* This is a "clone" of test 047
* Note the checkfiles are identical, except:
*   - Some combinations make no sense with HDF5
*   - Changing the order of states in CASPT2 has an effect here,
*     but not without HDF5
*
>> RM -FORCE TEST_HDF5
>> IF ( $MOLCAS_DRIVER = UNKNOWN_VARIABLE )
>>   EXPORT MOLCAS_DRIVER=molcas
>> ENDIF
>> SHELL $MOLCAS_DRIVER have_feature hdf5 || touch TEST_HDF5
>> IF ( -FILE TEST_HDF5 )
>>   EXIT 36
>> ENDIF

>> EXPORT MOLCAS_PRINT=VERBOSE

&SEWARD
  Symmetry = xyz
  mGauss
  Multipoles = 0
  Basis = Ge.ANO-RCC...5s4p2d.
    Ge  0.0  0.0  0.0
  End of Basis
  XField = 2
    4.0 5.0 6.0    2.0 0.0 0.0 0.0
   -4.0 5.0 6.0    2.0 0.0 0.0 0.0
  NoCD

&SCF
  FileOrb    = $Project.guessorb.h5
  Charge     = 2
  Thresholds = 1e-10 1e-6 5e-8 2e-6

&RASSCF
  FileOrb    = $Project.scf.h5
  Symmetry   = 1
  Spin       = 1
  nActEl     = 4 0 0
  Inactive   = 8 6
  Ras2       = 1 3
  LevShft    = 0.5
  Iterations = 200 50
  CIMx       = 48
  CIRoot     = 6 6
               1 6 2 5 3 4
               1 1 1 1 1 1
  Thrs       = 1e-10 1e-06 1e-06
  Tight      = 1e-08 1e-6

&CASPT2
  FileOrb     = $Project.rasscf.h5
  MaxIter     = 25
  IPEA        = 0.25
  Multistate  = 6  1 2 3 4 5 6
  Convergence = 1e-9
  Properties

* Use RASSCF energies
>> COPY $Project.rasscf.h5 CASSCF

&RASSI
  NrOfJobIphs = 1 all
  IphNames = CASSCF

* Use SS-CASPT2 energies (EJOB)
>> COPY $Project.caspt2.h5 CASPT2

&RASSI
  NrOfJobIphs = 1 all
  IphNames = CASPT2
  EJob

* Use MS-CASPT2
>> COPY $Project.caspt2.h5 CASPT2

&RASSI
  NrOfJobIphs = 1 all
  IphNames = CASPT2

* XMS calculation
&CASPT2
  FileOrb     = $Project.rasscf.h5
  MaxIter     = 25
  IPEA        = 0.0
  XMultistate = all
  Convergence = 1e-9

* Use XMS-CASPT2
>> COPY $Project.caspt2.h5 CASPT2

&RASSI
  NrOfJobIphs = 1 all
  IphNames = CASPT2

* XDW calculation
&CASPT2
  FileOrb     = $Project.rasscf.h5
  MaxIter     = 25
  IPEA        = 0.0
  XMultistate = 6  6 5 4 3 2 1
  DWMS        = 50
  Convergence = 1e-9

* Use XDW-CASPT2
>> COPY $Project.caspt2.h5 CASPT2

&RASSI
  NrOfJobIphs = 1 all
  IphNames = CASPT2

* Subset of states
&CASPT2
  FileOrb     = $Project.rasscf.h5
  MaxIter     = 25
  IPEA        = 0.25
  Multistate  = 3  6 4 1
  Convergence = 1e-9

* Use MS-CASPT2
>> COPY $Project.caspt2.h5 CASPT2
>> COPY $Project.caspt2.h5 save.caspt2.h5

&RASSI
  NrOfJobIphs = 1 3 ; 1 4 6
  IphNames = CASPT2

* Subset XMS + NoMult
&CASPT2
  FileOrb     = $Project.rasscf.h5
  MaxIter     = 25
  IPEA        = 0.0
  XMultistate = 3  1 4 6
  NoMultistate
  Convergence = 1e-9

* Use XSS-CASPT2 (EJOB)
>> COPY $Project.caspt2.h5 CASPT2

&RASSI
  NrOfJobIphs = 1 all
  IphNames = CASPT2
  EJob

>>FILE checkfile
* This file is autogenerated:
* Molcas version 19.11-537-ga12ae626
* Linux otis 4.15.0-1073-oem #83-Ubuntu SMP Mon Feb 17 11:21:18 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
* Wed May 20 17:06:02 2020
*
#>>   1
#> SEWARD_KINETIC="17955988.950000014156"/5
#> SEWARD_ATTRACT="-168788.747221128346"/5
#> POTNUC="29.173907573667"/12
#> SEWARD_KINETIC="552.394993687088"/5
#> SEWARD_ATTRACT="-1058.908565952243"/5
#>>   2
#> SCF_ITER="14"/8
#> E_SCF="-2094.329154029827"/8
#> MLTPL__0="2"/5
#>>   3
#> RASSCF_ITER="9"/8
#> E_RASSCF[0]="-2097.003291605243"/8
#> E_RASSCF[1]="-2096.888112736297"/8
#> E_RASSCF[2]="-2096.972884650164"/8
#> E_RASSCF[3]="-2096.920335075085"/8
#> E_RASSCF[4]="-2096.959738898154"/8
#> E_RASSCF[5]="-2096.925800888617"/8
#> MLTPL__0="-0.000000000000"/5
#> MLTPL__0="-0.000000000000"/5
#> MLTPL__0="-0.000000000000"/5
#> MLTPL__0="-0.000000000000"/5
#> MLTPL__0="-0.000000000000"/5
#> MLTPL__0="-0.000000000000"/5
#>>   4
#> E_CASPT2="-2097.022010445523"/8
#> MLTPL__0="-0.000000000000"/5
#> E_CASPT2="-2096.992805987162"/8
#> MLTPL__0="-0.000000000000"/5
#> E_CASPT2="-2096.979871621871"/8
#> MLTPL__0="-0.000000000000"/5
#> E_CASPT2="-2096.946032574135"/8
#> MLTPL__0="-0.000000000000"/5
#> E_CASPT2="-2096.940965883102"/8
#> MLTPL__0="-0.000000000000"/5
#> E_CASPT2="-2096.906953225699"/8
#> MLTPL__0="-0.000000000000"/5
#> E_MSPT2[0]="-2097.022027937684"/8
#> E_MSPT2[1]="-2096.992805987162"/8
#> E_MSPT2[2]="-2096.979871621871"/8
#> E_MSPT2[3]="-2096.946058337044"/8
#> E_MSPT2[4]="-2096.940965883102"/8
#> E_MSPT2[5]="-2096.906909970628"/8
#>>   5
#> E_RASSI[0]="-2097.003291605239"/6
#> E_RASSI[1]="-2096.888112736294"/6
#> E_RASSI[2]="-2096.972884650162"/6
#> E_RASSI[3]="-2096.920335075083"/6
#> E_RASSI[4]="-2096.959738898152"/6
#> E_RASSI[5]="-2096.925800888615"/6
#>>   6
#> E_RASSI[0]="-2097.022010445523"/6
#> E_RASSI[1]="-2096.992805987162"/6
#> E_RASSI[2]="-2096.979871621871"/6
#> E_RASSI[3]="-2096.946032574135"/6
#> E_RASSI[4]="-2096.940965883102"/6
#> E_RASSI[5]="-2096.906953225699"/6
#>>   7
#> E_RASSI[0]="-2097.022027937687"/6
#> E_RASSI[1]="-2096.992805987165"/6
#> E_RASSI[2]="-2096.979871621875"/6
#> E_RASSI[3]="-2096.946058337048"/6
#> E_RASSI[4]="-2096.940965883107"/6
#> E_RASSI[5]="-2096.906909970632"/6
#>>   8
#> E_CASPT2="-2097.023932417289"/8
#> E_CASPT2="-2096.909048338939"/8
#> E_CASPT2="-2096.994600419167"/8
#> E_CASPT2="-2096.942852360516"/8
#> E_CASPT2="-2096.981694231145"/8
#> E_CASPT2="-2096.947775130451"/8
#> E_MSPT2[0]="-2097.023958972648"/8
#> E_MSPT2[1]="-2096.994600419167"/8
#> E_MSPT2[2]="-2096.981694231145"/8
#> E_MSPT2[3]="-2096.947865140934"/8
#> E_MSPT2[4]="-2096.942852360516"/8
#> E_MSPT2[5]="-2096.908931773096"/8
#>>   9
#> E_RASSI[0]="-2097.023958972650"/6
#> E_RASSI[1]="-2096.908931773099"/6
#> E_RASSI[2]="-2096.994600419170"/6
#> E_RASSI[3]="-2096.942852360521"/6
#> E_RASSI[4]="-2096.981694231149"/6
#> E_RASSI[5]="-2096.947865140938"/6
#>>  10
#> E_CASPT2="-2096.908888665678"/8
#> E_CASPT2="-2096.942803309626"/8
#> E_CASPT2="-2096.947726400794"/8
#> E_CASPT2="-2096.981700249089"/8
#> E_CASPT2="-2096.994568354141"/8
#> E_CASPT2="-2097.023763569685"/8
#> E_MSPT2[0]="-2097.023790496577"/8
#> E_MSPT2[1]="-2096.994568354141"/8
#> E_MSPT2[2]="-2096.981700249089"/8
#> E_MSPT2[3]="-2096.947818531044"/8
#> E_MSPT2[4]="-2096.942803309626"/8
#> E_MSPT2[5]="-2096.908769608535"/8
#>>  11
#> E_RASSI[0]="-2096.908769608539"/6
#> E_RASSI[1]="-2096.942803309631"/6
#> E_RASSI[2]="-2096.947818531047"/6
#> E_RASSI[3]="-2096.981700249092"/6
#> E_RASSI[4]="-2096.994568354145"/6
#> E_RASSI[5]="-2097.023790496579"/6
#>>  12
#> E_CASPT2="-2096.906953225699"/8
#> E_CASPT2="-2096.946032574135"/8
#> E_CASPT2="-2097.022010445523"/8
#> E_MSPT2[0]="-2097.022027937684"/8
#> E_MSPT2[1]="-2096.946058337044"/8
#> E_MSPT2[2]="-2096.906909970628"/8
#>>  13
#> E_RASSI[0]="-2097.022027937684"/6
#> E_RASSI[1]="-2096.946058337044"/6
#> E_RASSI[2]="-2096.906909970628"/6
#>>  14
#> E_CASPT2="-2097.023949037610"/8
#> E_CASPT2="-2096.947793546638"/8
#> E_CASPT2="-2096.909067364662"/8
#>>  15
#> E_RASSI[0]="-2097.023949037610"/6
#> E_RASSI[1]="-2096.947793546638"/6
#> E_RASSI[2]="-2096.909067364662"/6
>>EOF
